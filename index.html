<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Email Template Generator</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; }
  label, button { display: block; margin-top: 10px; }
  input { padding: 8px; margin-top: 5px; }
  button { padding: 10px; cursor: pointer; background-color: #007bff; color: white; border: none; border-radius: 5px; }
  button:hover { background-color: #0056b3; }
  #draft-email-button { display: none; margin-top: 15px; cursor: pointer; }
</style>
</head>
<body>
<h1>Email Template Generator</h1>
<form id="emailForm">
  <label for="name">Your Name:</label>
  <input type="text" id="name" name="name" required>
  
  <label for="year">Graduation Year:</label>
  <input type="number" id="year" name="year" required>
  
  <button type="button" onclick="generateEmail()">Generate and Draft Email</button>
</form>

<button id="draft-email-button" onclick="draftEmail()">Draft Email in Your Mail App</button>

<script>
function generateEmail() {
  const name = document.getElementById('name').value;
  const year = document.getElementById('year').value;
  const emailContent = `Dear President Hurd,\n\nThis is a simplified email content for testing purposes.\n\nSincerely,\n${name}\nLafayette College Class of ${year}`;
  const subject = encodeURIComponent("Test Email Subject");
  const body = encodeURIComponent(emailContent);
  const recipientEmail = "president@lafayette.edu";
  window.mailtoLink = `mailto:${recipientEmail}?subject=${subject}&body=${body}`; // Global variable for accessibility in draftEmail function
  document.getElementById('draft-email-button').style.display = 'inline'; // Make the button visible
}

function draftEmail() {
  window.open(window.mailtoLink); // Use window.open to trigger mail client
}
</script>
</body>
</html>
